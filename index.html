<!DOCTYPE html>
<html>

<head>
	<title>RockPaperSplat!</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" type="text/css" href="res/css/style.css">
	<link href="https://fonts.googleapis.com/css?family=Open+Sans|Quicksand" rel="stylesheet">
</head>

<body>
	<div>
		<div class="backgroundGif">
			<div class="titleBanner">
				<div class="titleLogo">
					<h1 class="titleName">RockPaperSplat</h1>
					<img class="titleIcon" src="res/img/logo.png">
				</div>
			</div>
		</div>
		<div class="content">
			<div>
				<div>
					<h2>About the Game</h2>
				</div>
				<div>
					<p>
						Join your friends in the best version of Rock-Paper-Scissors to date!
					</p>
					<p>
						With exciting power-ups and abilities, beating your friends at this classic game has never been more fun.
					</p>
					<p>
						Allow your audience to change the flow of the game by voting on which power-up to send to the game!
					</p>
					<!-- <h3>
						Text <kbd>!reverse</kbd>, <kbd>!gravity</kbd>, <kbd>!dark</kbd> or <kbd>!flip</kbd> to: <kbd>01642688416</kbd>
					</h3> -->
				</div>
			</div>
			<div>
				<div>
					<h2>Controls</h2>
				</div>
				<div>
					<h3>Keyboard</h3>
					<p>
						<kbd>A</kbd> or <kbd>D</kbd> to move <kbd>left</kbd> or <kbd>right</kbd>
					</p>
					<p>
						<kbd>space</kbd> to <kbd>jump</kbd>
					</p>
					<p>
						<kbd>O</kbd> to <kbd>dash</kbd>
					</p>
					<p>
						<kbd>I</kbd> or <kbd>P</kbd> to change form <kbd>left</kbd> or <kbd>right</kbd>
					</p>
					<p>
						<kbd>R</kbd> to <kbd>restart</kbd>
					</p>
				</div>
				<div>
					<h3>Controller</h3>
					<p>
						<kbd>left control stick</kbd> to move <kbd>left</kbd> or <kbd>right</kbd>
					</p>
					<p>
						<kbd>A</kbd> to <kbd>jump</kbd>
					</p>
					<p>
						<kbd>X</kbd> to <kbd>dash</kbd>
					</p>
					<p>
						<kbd>LB</kbd> or <kbd>RB</kbd> to change form <kbd>left</kbd> or <kbd>right</kbd>
					</p>
				</div>
			</div>
			<div class="inputArea">
				<h3>Sign up to receive information about the game</h3>
				<p>(Opens an email window)</p>
				<form class="inputForm" action="mailto:olmez49@gmail.com?subject=Game Information" method="post" enctype="text/plain" onsubmit="this.submit(); this.reset(); return false;">
					<input class="inputItem" type="text" name="Name" placeholder="Name"><br>
					<input class="inputItem" type="email" name="Email" placeholder="Email"><br>
					<input class="inputButton" type="submit">
				</form>
			</div>
		</div>
		<div class="spriteEditor">
			<div class="editorContent">
				<div>
					<h2>Sprite Editor</h2>
				</div>
				<div class="canvasEditor">
					<canvas id="canvas" class="canvas" width="640" height="640"></canvas>
					<canvas id="canvasGrid" class="canvasGrid" width="640" height="640"></canvas>
				</div>
				<div class="canvasMisc">
					<div class="colorPicker">
						<input type="color" id="colorPicker" value="#000000">
					</div>
					<div class="buttonSave">
						<a id="downloadLink" download="newSprite.png">
							<button class="saveButton">SAVE</button>
						</a>
					</div>
				</div>
			</div>
		</div>
	</div>
	<footer class="footer">Designed and Developed by <a href="https://vorontsov.co.uk">Aleksandr Vorontsov</a> for HackKing's-4.0</footer>
	<script type="text/javascript">
		function download() {
			var canvas = document.getElementById("canvas");
			var dt = canvas.toDataURL('image/png');
			this.href = dt;
		};
		downloadLink.addEventListener('click', download, false);

		var can = document.getElementById('canvas'),
		boxes = 64,
		size = 10,
		ctx = can.getContext('2d');

		can.addEventListener('mousemove', function(evt) {
			var mousePos = getMousePos(can, evt);
			var sx = (Math.ceil(mousePos.x/size)-1)*size,
			sy =  (Math.ceil(mousePos.y/size)-1)*size;
		}, false);

		can.addEventListener('mousedown', function(evt) {
			var customColor = document.getElementById('colorPicker');
			var mousePos = getMousePos(can, evt);
			var sx = (Math.ceil(mousePos.x/size)-1)*size,
			sy =  (Math.ceil(mousePos.y/size)-1)*size;
			ctx.fillStyle = customColor.value;
			ctx.fillRect(sx,sy,size,size);
		});

		function getMousePos(canvas, evt) {
			var rect = can.getBoundingClientRect();
			return {
				x: evt.clientX - rect.left,
				y: evt.clientY - rect.top
			};
		}

		function saveCanvas() {
			var canvas = document.getElementById("canvas");
			var img = canvas.toDataURL();
		}
	</script>
	<script type="text/javascript">
		var canvas = document.getElementById('canvasGrid'),
		boxes = 64,
		size = 10,
		context = canvas.getContext('2d');

		function drawGrid() {
			var len = canvas.height = canvas.width = boxes * size;
			for (var i = 0; i < boxes; i++) {
				context.beginPath();
				context.strokeStyle = "#000";
				context.moveTo(size + size * i - .5, 0);
				context.lineTo(size + size * i - .5, len);
				context.moveTo(0, size + size * i - .5);
				context.lineTo(len, size + size * i - .5);
				context.stroke();
			}
		}

		drawGrid();
	</script>
</body>

</html>
